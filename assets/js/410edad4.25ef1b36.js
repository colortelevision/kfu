"use strict";(self.webpackChunkkfu=self.webpackChunkkfu||[]).push([[7378],{2401:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>g,frontMatter:()=>o,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"images/imagemagick","title":"imagemagick","description":"automated PNG collages","source":"@site/docs/images/imagemagick.md","sourceDirName":"images","slug":"/images/imagemagick","permalink":"/kfu/docs/images/imagemagick","draft":false,"unlisted":false,"editUrl":"https://github.com/colortelevision/kfu/tree/main/docs/images/imagemagick.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Welcome to KRIMP UNIVERSITY \ud83c\udf93","permalink":"/kfu/docs/home"}}');var i=t(4848),s=t(8453);const o={},r=void 0,c={},l=[{value:"automated PNG collages",id:"automated-png-collages",level:2}];function d(e){const n={code:"code",h2:"h2",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"automated-png-collages",children:"automated PNG collages"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"brew install imagemagick\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"montage *.png -thumbnail 200x200 -geometry +2+2 -background white -density 300x300 -quality 100 collage.pdf\n"})}),"\n",(0,i.jsx)(n.p,{children:"create collage of all pngs in a directory"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"montage *.png -geometry +0+0 -background white composite.png\n"})}),"\n",(0,i.jsx)(n.p,{children:"create collage of all pngs in a directory xparent"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"magick montage *.png -geometry +0+0 -background none composite.png\n"})}),"\n",(0,i.jsx)(n.p,{children:"create overlay"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"convert *.png -background none -layers flatten composite.png\n"})}),"\n",(0,i.jsx)(n.p,{children:"create collage with green background"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'montage *.png -geometry +0+0 -background "#00ff00" composite.png\n'})}),"\n",(0,i.jsx)(n.p,{children:"create collage with all png\u2019s in cwd and it\u2019s subdirectories"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'find . -iname "*.png" > pnglist.txt\nmontage @pnglist.txt -geometry +0+0 -background "#00ff00" composite.png\nrm pnglist.txt\n'})}),"\n",(0,i.jsx)(n.p,{children:"RESIZE ALL PNG\u2019S TO 25%"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'for file in *.png; do sips -Z $(($(sips -g pixelWidth "$file" | awk \'/pixelWidth/ {print $2}\') / 4)) "$file"; done\n'})}),"\n",(0,i.jsx)(n.p,{children:"DIVIDE PNG INTO SECTIONS OF 64x64"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"convert input.png -crop 64x64 +repage +adjoin tile_%d.png\n"})}),"\n",(0,i.jsx)(n.p,{children:"script to combine all .png\u2019s and organize them by size for montage"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\n\n# Create a temporary file to hold filenames and dimensions\ntempfile=$(mktemp)\n\n# Find all PNG files excluding ones starting with ._ and get their dimensions\nfind . -iname "*.png" ! -name "._*" -exec identify -format "%w %h %i\\n" {} \\; > "$tempfile"\n\n# Sort the files by dimensions (width then height)\n# Adjust the sort command as needed; here, it\'s numeric sort by width and then height\nsort -n -k 1,1 -k 2,2 "$tempfile" | awk \'{print $3}\' > sorted_files.txt\n\n# Now, use the sorted list of files for the montage or composite command\n# Example with montage, to arrange sorted images side by side with a green background\nmontage @sorted_files.txt -geometry +0+0 -background "#00ff00" composite.png\n\n# Clean up temporary files\nrm "$tempfile" sorted_files.txt\n'})})]})}function g(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>r});var a=t(6540);const i={},s=a.createContext(i);function o(e){const n=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),a.createElement(s.Provider,{value:n},e.children)}}}]);